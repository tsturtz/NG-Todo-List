<!DOCTYPE html>
<html lang="en" ng-app="todoApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Angular To-Do App</title>

    <!--Angular Material Style Sheets-->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!--Font Awesome for brand icons-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--To-Do Style Sheet-->
    <link rel="stylesheet" href="styles/style.css">

    <!--Angular.js Libraries-->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

    <!--Angular Material Library-->
    <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>

    <!--Firebase Database-->
    <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.2/firebase-database.js"></script>

    <!--AngularFire-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angularFire/2.2.0/angularfire.min.js"></script>

    <!--Input Focus on Render Directive-->
    <script src="https://rawgit.com/hiebj/ng-focus-if/master/focusIf.min.js"></script>

    <!--MomentJS and Angular Moment-->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-moment/1.0.1/angular-moment.min.js"></script>

    <!--To-Do App-->
    <script src="app/app.js"></script>
    <!--Controller-->
    <script src="app/controllers/rootCtrl.js"></script>
    <!--Services-->
    <script src="app/services/todoService.js"></script>
    <script src="app/services/fbAuthFactory.js"></script>
    <!--Components-->
    <script src="app/components/components.js"></script>

</head>
<body ng-cloak layout="column">

<div id="sideNavContainer"
     ng-controller="rootCtrl as root"
     layout="column"
     layout-fill>

    <md-toolbar layout="row"
                md-whiteframe="8"
                class="md-accent md-medium-tall"
                md-theme="add"
                layout-padding>

        <span layout="row" flex="15">
            <md-button ng-click="root.openLeftMenu()">
                <md-icon md-font-set="material-icons">menu</md-icon>
            </md-button>
        </span>

        <!--Add Form component-->
        <td-form todos="root.todos" user="root.firebaseUser" flex></td-form>

        <span flex="15"></span>

    </md-toolbar>

    <md-sidenav md-component-id="left"
                class="md-sidenav-left"
                layout="column"
                layout-align="center center"
                md-whiteframe="10">

        <span flex="10"></span>

        <div class="app-title"
             layout="column"
             layout-align="center center">
            <p class="md-body-1">Angular Material & AngularFire</p>
            <p class="md-display-1">ng-todo-list</p>
            <p class="md-body-2">Developed by</p>
            <md-button class="md-primary">
                <a href="https://github.com/tsturtz">
                    <i class="fa fa-github"></i>
                    <span class="md-caption"> Taylor Sturtz</span>
                </a>
            </md-button>
        </div>

        <span flex></span>

        <div id="nav-login"
             layout="column"
             layout-align="center center">
            <md-input-container ng-hide="root.firebaseUser">
                <label for="username">Email</label>
                <input type="text"
                       id="username"
                       ng-model="root.email">
            </md-input-container>
            <span class="small-spacer"></span>
            <md-input-container ng-hide="root.firebaseUser">
                <label for="password">Password</label>
                <input type="text"
                       id="password"
                       ng-model="root.password">
            </md-input-container>
            <span class="small-spacer"></span>
            <md-progress-circular md-mode="indeterminate"
                                  ng-if="root.loginSpinner"
                                  class="md-accent"
                                  md-diameter="30">
            </md-progress-circular>
            <div layout="row" ng-hide="root.firebaseUser">
                <md-button class="md-raised md-primary"
                           ng-click="root.loginUser(root.email, root.password)">
                    <md-icon md-font-set="material-icons">person</md-icon>
                    <span class="md-caption">Log In</span>
                </md-button>
                <md-button class="md-raised md-primary"
                           ng-click="root.createUser(root.email, root.password)">
                    <md-icon md-font-set="material-icons">person_add</md-icon>
                    <span class="md-caption">Sign up</span>
                </md-button>
            </div>
            <div ng-hide="root.firebaseUser">
                <md-button class="md-raised md-accent"
                           ng-click="root.googleUserLogin()">
                    <i class="fa fa-google"></i>
                    <span class="md-caption">Google Log In</span>
                </md-button>
            </div>
            <div ng-hide="root.firebaseUser">
                <md-button class="md-primary"
                           ng-click="root.signInAnon()">
                    <a href="#"><i class="fa fa-laptop"></i>
                        <span class="md-caption">Demo Log In</span>
                    </a>
                </md-button>
            </div>
            <div ng-show="root.firebaseUser"
                 layout="row"
                 class="text-center">
                <span></span>
                <div flex>
                    <p class="md-body-1">Currently logged in with email:</p>
                    <p class="md-subhead teal-text">{{ root.firebaseUser.email ? root.firebaseUser.email : 'demo@demo.com' }}</p>
                    <md-button class="md-raised md-accent"
                               ng-click="root.signOut()">
                        <md-icon md-font-set="material-icons">person</md-icon>
                        <span class="md-caption">Log Out</span>
                    </md-button>
                </div>
                <span></span>
            </div>
        </div>

        <span flex></span>

        <div id="nav-close">
            <md-button class="md-primary"
                       ng-click="root.openLeftMenu()">
                <a href="#">Close</a>
            </md-button>
        </div>

        <span flex="5"></span>

    </md-sidenav>

    <md-content id="content-area"
                layout="row"
                layout-align="center start"
                flex>
        <div layout="column"
             flex="100"
             layout-padding>

            <div layout="row"
                 layout-sm="column"
                 layout-align="center center">
                <md-progress-circular md-mode="indeterminate"
                                      ng-if="root.activated"
                                      class="md-accent"
                                      md-diameter="50">
                </md-progress-circular>
            </div>

            <!--tdList component-->
            <td-list user="root.firebaseUser"
                     todos="root.todos"
                     toggle-menu="root.openLeftMenu()">
            </td-list>

        </div>
    </md-content>

</div>
</body>
</html>