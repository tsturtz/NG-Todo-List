<!DOCTYPE html>
<html lang="en" ng-app="todoApp" ng-cloak>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>To-do List | Taylor Sturtz</title>

    <!--Angular Material style sheet-->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">

    <!--Angular Material font icons-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!--Font Awesome for brand icons-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--Custom style sheet-->
    <link rel="stylesheet" href="styles/style.css">

    <!--Angular.js-->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

    <!--Angular Material-->
    <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>

    <!--Firebase-->
    <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>

    <!--AngularFire-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angularFire/2.2.0/angularfire.min.js"></script>

    <!--Input focus on render directive-->
    <script src="https://rawgit.com/hiebj/ng-focus-if/master/focusIf.min.js"></script>

    <!--Moment.js Angular Moment-->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-moment/1.0.1/angular-moment.min.js"></script>

    <!--App configuration-->
    <script src="app/app.js"></script>
    <!--Root controller-->
    <script src="app/controllers/rootCtrl.js"></script>
    <!--Services-->
    <script src="app/services/todoService.js"></script>
    <script src="app/services/fbAuthFactory.js"></script>
    <!--Individual components-->
    <script src="app/components/components.js"></script>

</head>
<body ng-cloak layout="column">

<div id="sideNavContainer"
     ng-controller="rootCtrl as root"
     layout="column"
     layout-fill>

    <md-toolbar layout="row"
                md-whiteframe="8"
                class="md-accent"
                md-theme="add"
                layout-padding>

        <span layout="row" flex="15">
            <md-button ng-click="root.openLeftMenu()">
                <md-icon md-font-set="material-icons">menu</md-icon>
            </md-button>
        </span>

        <!--Add Form component-->
        <td-form todos="root.todos" user="root.firebaseUser" flex></td-form>

        <span flex="15"></span>

    </md-toolbar>

    <md-sidenav md-component-id="left"
                class="md-sidenav-left"
                layout="column"
                layout-align="center center"
                md-whiteframe="10">

        <span flex="20"></span>

        <div id="nav-login"
             layout="column"
             layout-align="center center">
            <md-input-container ng-hide="root.firebaseUser">
                <label for="username">Email</label>
                <input type="text"
                       id="username"
                       ng-model="root.email">
            </md-input-container>
            <span class="small-spacer"></span>
            <md-input-container ng-hide="root.firebaseUser">
                <label for="password">Password</label>
                <input type="text"
                       id="password"
                       ng-model="root.password">
            </md-input-container>
            <span class="small-spacer"></span>
            <md-progress-circular md-mode="indeterminate"
                                  ng-if="root.loginSpinner"
                                  class="md-accent"
                                  md-diameter="30">
            </md-progress-circular>
            <div layout="row" ng-hide="root.firebaseUser">
                <md-button class="md-raised md-primary"
                           ng-click="root.loginUser(root.email, root.password)">
                    <md-icon md-font-set="material-icons">person</md-icon>
                    <span class="md-caption">Log In</span>
                </md-button>
                <md-button class="md-raised md-primary"
                           ng-click="root.createUser(root.email, root.password)">
                    <md-icon md-font-set="material-icons">person_add</md-icon>
                    <span class="md-caption">Sign up</span>
                </md-button>
            </div>
            <div ng-hide="root.firebaseUser">
                <md-button class="md-raised md-accent"
                           ng-click="root.googleUserLogin()">
                    <i class="fa fa-google"></i>
                    <span class="md-caption">Google Log In</span>
                </md-button>
            </div>
            <div ng-hide="root.firebaseUser">
                <md-button class="md-accent"
                           ng-click="root.signInDemo()">
                    <a href="#"><i class="fa fa-laptop"></i>
                        <span class="md-caption">Demo Log In</span>
                    </a>
                </md-button>
            </div>
            <span class="small-spacer"></span>
            <div ng-hide="root.firebaseUser">
                <md-input-container ng-hide="root.firebaseUser">
                    <label for="reset-password">Your email</label>
                    <input type="text"
                           id="reset-password"
                           ng-model="root.emailForReset">
                </md-input-container>
            </div>
            <div ng-hide="root.firebaseUser">
                <md-button class="md-accent"
                           ng-click="root.resetPassword(root.emailForReset)">
                    <span class="md-caption">Reset password</span>
                </md-button>
            </div>
            <div ng-show="root.firebaseUser"
                 layout="column"
                 class="text-center">
                <div flex>
                    <p class="md-title">Logged in as:</p>
                    <p class="md-subhead indigo-lt-text">{{ root.firebaseUser.email }}</p>
                    <span class="small-spacer"></span>
                    <div layout="column">
                        <md-button class="md-raised md-accent"
                                   ng-click="root.signOut()">
                            <md-icon md-font-set="material-icons">person</md-icon>
                            <span class="md-caption">Log Out</span>
                        </md-button>
                        <md-button class="md-primary"
                                   ng-click="root.deleteAcct()">
                            <md-icon md-font-set="material-icons">close</md-icon>
                            <span class="md-caption">Delete Account</span>
                        </md-button>
                    </div>
                </div>
            </div>
        </div>

        <span flex></span>

        <div id="nav-close">
            <md-button class="md-primary"
                       ng-click="root.openLeftMenu()">
                <a href="#">Close</a>
            </md-button>
        </div>

        <span flex="5"></span>

    </md-sidenav>

    <md-content id="content-area"
                layout="row"
                layout-align="center start"
                flex>
        <div layout="column"
             flex="100"
             layout-padding>

            <div layout="row"
                 layout-sm="column"
                 layout-align="center center">
                <md-progress-circular md-mode="indeterminate"
                                      ng-if="root.activated"
                                      class="md-accent"
                                      md-diameter="50">
                </md-progress-circular>
            </div>

            <!--tdList component-->
            <td-list user="root.firebaseUser"
                     todos="root.todos"
                     toggle-menu="root.openLeftMenu()"
                     ng-cloak>
            </td-list>

        </div>
    </md-content>

</div>
</body>
</html>